"use strict";
exports.__esModule = true;
exports.configureCacheControl = exports.appCache = void 0;
var config_1 = require("../config");
var model = {
    get: function (_) {
        return;
    },
    set: function (_, __) { },
    options: {},
    data: {}
};
var appCache = model;
exports.appCache = appCache;
function createCache() {
    if (!config_1.cacheConfig.disabled) {
        var Cache = require("node-cache");
        exports.appCache = appCache = new Cache((appCache === null || appCache === void 0 ? void 0 : appCache.options) || config_1.cacheConfig);
    }
}
function configureCacheControl(options) {
    if ("disabled" in options) {
        if (options.disabled) {
            exports.appCache = appCache = model;
        }
        var enableCache = config_1.cacheConfig.disabled && !options.disabled;
        config_1.cacheConfig.disabled = !!options.disabled;
        enableCache && createCache();
    }
    if (!config_1.cacheConfig.disabled) {
        appCache.options = Object.assign({}, appCache === null || appCache === void 0 ? void 0 : appCache.options, options);
    }
}
exports.configureCacheControl = configureCacheControl;
createCache();
//# sourceMappingURL=cache.js.map